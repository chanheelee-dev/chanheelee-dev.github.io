# 인게임 번역 프로세스 속도 향상을 위한 LLM 번역 툴 개발
진행 기간: May 2023 ~ present

## 문제 상황

데브시스터즈의 로컬라이제이션 팀은 인게임 텍스트, 마케팅 등 다양한 영역의 번역 업무를 담당하고 있습니다.   
특히 쿠키런 시리즈와 같은 라이브 게임에서의 인게임 텍스트가 가장 많은 업무 부담이 있습니다.

- **다양한 언어 지원**
    - 글로벌 진출을 위해서는 영어, 일본어 외에도 다양한 언어를 지원할 필요가 있습니다.
    - 하지만, 한국어와 타 언어를 동시에 잘 하는 번역가를 구하기 어렵습니다.
    - 언어 별 매출 규모를 고려하면 많은 인력을 투입하는 결정도 쉽지 않습니다.
- **포기할 수 없는 번역 품질**
    - 게임마다 별도의 세계관이 있고, 그 세계관에 맞는 용어 선택이 번역 품질에 큰 영향을 미칩니다.
    - 스토리를 중시하는 기조 상, 일정 수준 이상의 번역 품질이 요구됩니다.
- **빠른 번역 속도, 많은 양**
    - 업데이트 일정에 맞춰야 하므로 번역 속도가 중요합니다.
    - 출시되는 게임이 늘어나면서, 일정 기간 내에 번역해야 하는 텍스트 양도 점점 늘어납니다.

**결국 게임의 주 타겟 국가가 아닌 경우에는 한정된 인력으로, 빠르고, 고품질의 번역을 진행해야 합니다.**


## 프로젝트 목표

- 로컬라이제이션 팀의 업무 효율성을 향상시키기 위한 도구를 제공해 번역 속도를 높이자.

## 프로젝트 타임라인

### 1단계: LLM 번역 툴 개발 (May 2023 ~ Nov 2023)
자세한 내용은 [LLM 번역 툴 MVP 개발](./proj_llm_translation_stg_1.md)에 적었습니다.

- MVP 기능 기획
    - 당시 LLM 성능 및 리스크를 고려, 지속적인 업데이트가 필요없는 패키지 게임을 타겟으로 선정했습니다.
    - 개발 담당 팀의 제한된 인력을 감안해, 최소한의 개발 공수로 진행하고자 했습니다.
    - 번역 업무 프로세스를 이해하고, 기존 프로세스에 자연스럽게 통합될 수 있도록 범위를 설정했습니다.
- MVP 개발
    - 여러 task 들을 엮은 DAG 형태로 LLM 번역 워크플로우를 설계했습니다.
    - 데이터 입력은 lokalise(기존 번역 도구) API, google spreadsheet API를 활용, 결과는 slack 봇으로 전달하도록 구현했습니다.
    - RAG를 통해 게임 내 용어와 일관성을 유지하는 번역 품질 향상 기능을 구현했습니다.
    - 번역 툴의 사용법, LLM을 더 효율적으로 활용하는 방법 등에 대한 이해를 도왔습니다.
- 라이브 게임 적용
    - 게임 개발 팀, 로컬라이제이션 팀 등 cross-team 커뮤니케이션을 조율하면서, 게임 번역 프로세스를 개선했습니다.
    - 라이브 게임에서 AI를 활용할 때 발생할 수 있는 잠재적인 기술적, 사회적 위험을 예상하고 번역 팀에게 설명했습니다. 
    - LLM을 기반으로 한 번역 툴의 한계점을 설명하고 함께 개선 방향성을 잡았습니다.
    - 신속한 장애 대응을 위해 프로세스를 수립하고 로컬라이제이션 팀과 소통하며 장애 대응 프로세스를 개선했습니다.

#### 1단계에서의 주요 기여
- MVP 기능 기획
- 라이브 게임 적용에 대한 커뮤니케이션
- 개선 방향성 설정

### 2단계: 번역 QA 기능 개발 (Nov 2024 ~ Dec 2024)
번역 프로세스는 번역 뿐만 아니라 이후에 이어지는 검수 단계도 포함합니다.  
해당 단계를 LQA(Language QA)라고 부르며, 번역 작업이 마무리된 후 오탈자, 문법 오류, 문화적 오류 등을 확인합니다.  
로컬라이제이션 팀의 요청에 따라 해당 검수 단계도 효율적으로 진행할 수 있도록 돕는 번역 QA 기능을 추가했습니다.

자세한 내용은 [번역 QA 툴 개발](./proj_llm_translation_stg_2.md)에 적었습니다.

- QA 기능 기획
    - QA 작업을 카테고리화
    - `rule-based + LLM` 하이브리드 형태로 기획
    - QA 카테고리 중에서 LLM이 잘 못하는 논리 기반 검증이 필요한 카테고리는 rule-based 활용.
    - 기존 번역 워크플로우에 영향이 가지 않고, 이후 자연스러운 통합이 가능하도록 모듈 구조 설계
- QA 기능 개발
    - rule-based 검수: 게임 별 용어집에 맞게 번역됐는지 확인, 인게임 수치들(HP, 공격력 등)이 제대로 번역됐는지 확인
    - LLM-based 검수: 게임 별, 언어 별로 조금씩 상이하게 적용되는 문법 규칙에 맞게 번역됐는지 확인.
    - 검수 결과를 로컬라이제이션 팀이 이해하기 쉽도록 엑셀 리포트 작성 및 슬랙봇을 통해 전달.

#### 2단계에서의 주요 기여
- QA 기능 기획 및 개발 전체

### 3단계: 추가적인 개선 및 안정성 향상 (Jan 2025 ~ present)
- **코드 형상 개선**
    - 코드 품질 및 유지보수성 향상을 위한 모듈화 진행
        - 공통 모듈 추출 및 재사용성 향상
        - 워크플로우를 job -> task 구조로 설계하고, 그에 맞게 모듈 재구조
    - 번역 기능과 QA 기능의 완전한 통합을 위한 리팩토링
        - 중복 로직 제거
        - 각 기능 별 워크플로우에 
- **서비스 안정성 제고**
    - vector DB를 FAISS -> OpenSearch 로 변경
    - vector 검색 속도 및 클러스터 안정성을 위한 vector DB 적재 최적화
- **서비스 범위 확장**
    - 지원 언어 확대 (기존 3개 언어에서 8개 언어로 확장 예정)
    - 신규 게임 지원 추가
    - 게임 외 콘텐츠(공지사항 등) 번역 지원
- **시스템 운영 업무 자동화**
    - CI/CD 파이프라인 구축을 통한 배포 자동화
    - 유닛 테스트 구현
    - vector DB 적재 과정을 일 배치 작업으로 자동화

#### 3단계에서의 주요 기여
- 꾸준한 유지보수 업무 및 장애 대응
- VectorDB migration 및 자동화
- 서비스 범위 확장 일부 기여
- 배포/테스트 자동화


## 주요 성과

- **번역 효율성 향상**: 고퀄리티 초벌 번역 및 자동화된 검수로 번역 작업 속도 증가
- **번역 프로세스 최적화**: 번역 툴 도입 과정에서 번역 업무 프로세스를 체계화하고, 

## 기술 스택

- **LangChain**: LLM 워크플로우 및 체인 관리
- **FAISS**: RAG 시스템을 위한 벡터 검색
- **OpenSearch**: 번역 데이터 저장 및 검색
- **Databricks**: 워크플로우 DAG 관리 및 배포 자동화
